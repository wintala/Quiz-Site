(this["webpackJsonpfront-custom-drink"]=this["webpackJsonpfront-custom-drink"]||[]).push([[0],{39:function(e,t,n){e.exports=n(69)},40:function(e,t,n){},68:function(e,t){e.exports="data:image/png;base64,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"},69:function(e,t,n){"use strict";n.r(t);n(40);var a=n(0),r=n.n(a),o=n(19),u=n.n(o),c=n(16),l=n(1),i=n(38),A=n(5),s=function(e){return{type:"ACTIVATE_GAME",data:e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVATE_GAME":return t.data;case"ADD_QUESTION":return Object(A.a)(Object(A.a)({},e),{},{questions:e.questions.concat(t.data)});case"DELETE_QUESTION":var n=e.questions.filter((function(e){return e.id!==t.data}));return Object(A.a)(Object(A.a)({},e),{},{questions:n});case"EDIT_QUESTION":var a=e.questions.map((function(e){return e.id===t.data.id?t.data:e}));return Object(A.a)(Object(A.a)({},e),{},{questions:a});default:return e}},m=n(6),d=n(8),f=function(e){return{type:"LOGIN",data:e}},E=function(e){return{type:"ADD_GAME",data:e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.data;case"ADD_GAME":var n=e.moderating.concat(t.data);return Object(A.a)(Object(A.a)({},e),{},{moderating:n});case"LEAVE_GAME":var a=e.moderating.filter((function(e){return e.id!==t.data}));return Object(A.a)(Object(A.a)({},e),{},{moderating:a});case"ADD_QUESTION":return Object(A.a)(Object(A.a)({},e),{},{questions:e.questions.concat(t.data.id)});case"DELETE_QUESTION":var r=e.questions.filter((function(e){return e!==t.data}));return Object(A.a)(Object(A.a)({},e),{},{questions:r});default:return e}},b=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.user}));return r.a.createElement("div",{className:"nav"},r.a.createElement(d.b,{to:"/"},"Home"),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/games"},"My Games"),r.a.createElement("button",{className:"log-out-button",onClick:function(){window.localStorage.removeItem("loggedUser"),e(f(null))}},"Log Out"),r.a.createElement("span",null,"Logged in ".concat(t.username))):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{id:"signup",to:"/signup"},"Sign Up"),r.a.createElement(d.b,{id:"login",to:"/login"},"Login")))},p=n(2),C=n.n(p),v=n(7),D=n(3),B=n(9),O=n.n(B),h={createUser:function(){var e=Object(v.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.a.post("/api/users",t).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Q={login:function(){var e=Object(v.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.a.post("/api/login",t).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(){var e=Object(l.b)(),t=Object(a.useState)(""),n=Object(D.a)(t,2),o=n[0],u=n[1],c=Object(a.useState)(""),i=Object(D.a)(c,2),A=i[0],s=i[1],g=Object(a.useState)(""),d=Object(D.a)(g,2),E=d[0],w=d[1];if(Object(l.c)((function(e){return e.user})))return r.a.createElement(m.a,{to:"/games"});var b=function(){var t=Object(v.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,h.createUser({username:o,password:A});case 3:return t.next=5,Q.login({username:o,password:A}).then((function(t){window.localStorage.setItem("loggedUser",JSON.stringify(t.token)),e(f(t))}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=A!==E||A.length<4,B=A?A.length<4?"Password must contain atleast 3 characters":E&&A!==E?"Passwords dont match":null:null;return r.a.createElement("form",{onSubmit:b,className:"user-form"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("div",null,"Username",r.a.createElement("input",{id:"username",type:"text",value:o,onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement("div",null,"Password",r.a.createElement("input",{id:"password",type:"password",value:A,onChange:function(e){var t=e.target;return s(t.value)}})),r.a.createElement("div",null,"Password again",r.a.createElement("input",{id:"password2",type:"password",value:E,onChange:function(e){var t=e.target;return w(t.value)}})),r.a.createElement("button",{id:"login-button",disabled:p},"Sign Up"),B?r.a.createElement("div",{id:"password-message"},B):null)},I=function(e,t){return{type:"SHOW_NOTI",data:{text:e,time:t}}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",time:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_NOTI":return{text:t.data.text,time:1e3*t.data.time};case"HIDE_MESSAGE":return{text:"",time:0};default:return e}},N=function(){var e=Object(l.b)(),t=Object(a.useState)(""),n=Object(D.a)(t,2),o=n[0],u=n[1],c=Object(a.useState)(""),i=Object(D.a)(c,2),A=i[0],s=i[1];return Object(l.c)((function(e){return e.user}))?r.a.createElement(m.a,{to:"/games"}):r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),Q.login({username:o,password:A}).then((function(t){e(f(t)),window.localStorage.setItem("loggedUser",JSON.stringify(t.token))})).catch((function(t){return e(I("Wrong username or password",3))}))},className:"user-form"},r.a.createElement("h1",null,"Log in"),r.a.createElement("div",null,"Username",r.a.createElement("input",{id:"username",type:"text",value:o,onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement("div",null,"Password",r.a.createElement("input",{id:"password",type:"password",value:A,onChange:function(e){var t=e.target;return s(t.value)}})),r.a.createElement("button",{id:"login-button"},"Login"))},S={newGame:function(){var e=Object(v.a)(C.a.mark((function e(t,n){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"bearer ".concat(n.token)}},e.abrupt("return",O.a.post("/api/games",t,a).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oneGame:function(){var e=Object(v.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.a.get("".concat("/api/games","/").concat(t)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),editGame:function(){var e=Object(v.a)(C.a.mark((function e(t,n,a){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:"bearer ".concat(a.token)}},e.abrupt("return",O.a.put("".concat("/api/games","/").concat(t),n,r).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),findGame:function(){var e=Object(v.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{name:t}},e.abrupt("return",O.a.get("/api/games",n).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.user})),n=Object(a.useState)({name:""}),o=Object(D.a)(n,2),u=o[0],c=o[1],i=function(){var n=Object(v.a)(C.a.mark((function n(a){var r;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.next=3,S.newGame(u,t);case 3:r=n.sent,e(E(r)),e(I("Game created",2));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement("form",{id:"question-creation-form",onSubmit:i},r.a.createElement("h2",null,"Create Game"),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Game name",id:"name",type:"text",value:u.name,onChange:function(e){var t=e.target;return c({name:t.value})}})),r.a.createElement("button",{id:"create-game-button"},"Create"))},G=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.user}));if(!t)return r.a.createElement("div",null,r.a.createElement("h2",null,"Please log in to view your games"));return r.a.createElement("div",{id:"mygames"},r.a.createElement("h2",null,"My Games"),0===t.moderating.length?r.a.createElement("div",null," You have no games. Ask your friends to add you as moderator to their games or create a new game"):r.a.createElement("table",null,r.a.createElement("tbody",null,t.moderating.map((function(n){return r.a.createElement("tr",{key:n.id},r.a.createElement("td",null,r.a.createElement(d.b,{to:"/games/".concat(n.id)},n.name)),r.a.createElement("td",null,(a=n.id,r.a.createElement("button",{id:"leave-button",onClick:function(){S.editGame(a,{leavingModerator:t.id},t),e({type:"LEAVE_GAME",data:a})}},"Leave game"))));var a})))),r.a.createElement(y,null))},Y={newQuestion:function(){var e=Object(v.a)(C.a.mark((function e(t,n,a){var r,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:"bearer ".concat(a.token)}},o=Object(A.a)(Object(A.a)({},t),{},{game:n}),e.abrupt("return",O.a.post("/api/questions",o,r).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),deleteQuestion:function(){var e=Object(v.a)(C.a.mark((function e(t,n){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={headers:{Authorization:"bearer ".concat(n.token)}},O.a.delete("".concat("/api/questions","/").concat(t),a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),editQuestion:function(){var e=Object(v.a)(C.a.mark((function e(t,n){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"bearer ".concat(n.token)}},e.abrupt("return",O.a.put("".concat("/api/questions","/").concat(t.id),t,a).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},M=function(e){var t=e.q,n=Object(a.useState)(t.question),o=Object(D.a)(n,2),u=o[0],c=o[1],i=Object(a.useState)(t.followUpQuestion),s=Object(D.a)(i,2),g=s[0],m=s[1],d=Object(l.c)((function(e){return e.user})),f=Object(l.b)();return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=g||"",a=Object(A.a)(Object(A.a)({},t),{},{question:u,followUpQuestion:n});if(g===t.followUpQuestion&&u===t.question)return null;Y.editQuestion(a,d).then((function(e){f(function(e){return{type:"EDIT_QUESTION",data:e}}(e))}))}},r.a.createElement("table",{id:"edit-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Question:"),r.a.createElement("td",null,r.a.createElement("textarea",{id:"question",type:"text",value:u,onChange:function(e){var t=e.target;return c(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"Follow-up question:"),r.a.createElement("td",null,r.a.createElement("textarea",{id:"follow-up-question",type:"text",value:g,onChange:function(e){var t=e.target;return m(t.value)}}))))),r.a.createElement("button",{id:"question-change-button"},"Save Changes"),r.a.createElement("button",{id:"question-delete-button",onClick:function(){return e=t.id,void(window.confirm("Delete this question?")&&(Y.deleteQuestion(e,d),f({type:"DELETE_QUESTION",data:e})));var e}},"Delete"))},x=function(){var e=Object(a.useState)(""),t=Object(D.a)(e,2),n=t[0],o=t[1],u=Object(a.useState)(""),c=Object(D.a)(u,2),i=c[0],A=c[1],s=Object(a.useState)(!1),g=Object(D.a)(s,2),m=g[0],d=g[1],f=Object(l.c)((function(e){return e.game})),E=Object(l.c)((function(e){return e.user})),w=Object(l.b)();return r.a.createElement("form",{id:"question-creation-form",onSubmit:function(e){e.preventDefault();var t={question:n,followUpQuestion:i||""};Y.newQuestion(t,f.id,E).then((function(e){w(function(e){var t;return{type:"ADD_QUESTION",data:{question:(t=e).question,followUpQuestion:t.followUpQuestion,id:t.id}}}(e)),w(I("Question added",2))}))}},r.a.createElement("h3",null,"Add Question"),r.a.createElement("div",{id:"player-placement-info"},'Use double hashtag "##" if you want to place player names to your question',r.a.createElement("div",{className:"tooltip"},'Every "##" in question will be replaced by one unique randomly selected player of the game')),r.a.createElement("div",null,"Question",r.a.createElement("textarea",{id:"question",type:"text",value:n,onChange:function(e){var t=e.target;return o(t.value)}})),m?r.a.createElement("div",null,"Follow-up question",r.a.createElement("textarea",{id:"follow-up-question",type:"text",value:i,onChange:function(e){var t=e.target;return A(t.value)}})):null,m?null:r.a.createElement("button",{id:"show-followup-button",type:"button",onClick:function(){return d(!0)}},"Add Follow-up Question"),r.a.createElement("button",{id:"question-create-button"},"Create"))},L=function(){var e=Object(a.useState)(!1),t=Object(D.a)(e,2),n=t[0],o=t[1],u=Object(a.useState)(!1),c=Object(D.a)(u,2),i=c[0],A=c[1],g=Object(l.c)((function(e){return e.game})),d=Object(l.c)((function(e){return e.user})),f=Object(l.b)(),E=Object(m.g)("/games/:id");if(Object(a.useEffect)((function(){S.oneGame(E.params.id).then((function(e){return f(s(e))}))}),[E.params.id,f]),i)return r.a.createElement(m.a,{to:"/playing/".concat(g.id)});var w,b;return g?r.a.createElement("div",{id:"game"},r.a.createElement("h1",null,g.name),r.a.createElement("button",{id:"play-button",onClick:function(){A(!0)}},"Play"),r.a.createElement("h2",null,"Moderators"),(b=g.moderators,r.a.createElement("table",{id:"mod-table"},r.a.createElement("tbody",null,b.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.username))}))))),d&&g.moderators.map((function(e){return e.id})).includes(d.id)?n?r.a.createElement("form",{id:"mod-add-form",onSubmit:function(e){e.preventDefault();var t=e.target.moderator.value;S.editGame(g.id,{newModerator:t},d).then((function(e){return f(s(e))})).catch((function(e){return f(I('User "'.concat(t,"\" doesn't exist"),3))})),e.target.moderator.value=""}},r.a.createElement("div",null,"Username",r.a.createElement("input",{name:"moderator"})),r.a.createElement("button",{id:"modAdd"},"Add Moderator")):r.a.createElement("button",{id:"show-modAdd",onClick:function(){return o(!0)}},"Add"):null,r.a.createElement("h2",null,"Questions"),0===(w=g.questions).length?r.a.createElement("div",{style:{marginBottom:"50px"}},"This game has no questions yet"):r.a.createElement("table",{id:"question-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"QUESTION"),r.a.createElement("th",null,"FOLLOW-UP QUESTION")),w.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.question),r.a.createElement("td",null,e.followUpQuestion))})))),d&&g.moderators.map((function(e){return e.id})).includes(d.id)?r.a.createElement(r.a.Fragment,null,r.a.createElement(x,null),function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"My questions in this game"),0===e.length?r.a.createElement("div",null,"You haven't created any question to this game"):r.a.createElement("table",{id:"my-questions-table"},r.a.createElement("tbody",null,e.filter((function(e){return d.questions.includes(e.id)})).map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(M,{q:e})))})))))}(g.questions)):null):null},k=function(){var e=Object(a.useState)(null),t=Object(D.a)(e,2),n=t[0],o=t[1],u=Object(l.b)();if(n)return r.a.createElement(m.a,{to:n});return r.a.createElement("div",{className:"home-view"},r.a.createElement("div",{className:"banner"},r.a.createElement("h1",null,"CUSTOM QUIZ")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target.search.value;S.findGame(t).then((function(e){u(s(e)),o("/playing/".concat(e.id))})).catch((function(e){return u(I("No matches :(",2))}))},className:"form"},r.a.createElement("h2",null,"Search game"),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Game name",name:"search"})),r.a.createElement("button",{id:"search-button"},"Search")))},H=n(26),F=function(){var e=Object(a.useState)(!1),t=Object(D.a)(e,2),o=t[0],u=t[1],c=Object(a.useState)(!1),i=Object(D.a)(c,2),A=i[0],g=i[1],f=Object(a.useState)(-1),E=Object(D.a)(f,2),w=E[0],b=E[1],p=Object(a.useState)(null),C=Object(D.a)(p,2),v=C[0],B=C[1],O=Object(a.useState)([]),h=Object(D.a)(O,2),Q=h[0],j=h[1],I=Object(a.useState)(!1),U=Object(D.a)(I,2),N=U[0],y=U[1],G=Object(a.useState)([]),Y=Object(D.a)(G,2),M=Y[0],x=Y[1],L=Object(l.c)((function(e){return e.game})),k=Object(l.b)(),F=Object(m.g)("/playing/:id");Object(a.useEffect)((function(){S.oneGame(F.params.id).then((function(e){k(s(e));for(var t=Object(H.a)(e.questions),n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*n),r=t[n];t[n]=t[a],t[a]=r}j(t)}))}),[F.params.id,k]);var P=function(){var e=["rgb(243, 115, 76)","rgb(88, 116, 189)","rgb(214, 177, 43)","rgb(78, 192, 159)"];return e[Math.floor(Math.random()*e.length)]},q={color:P()},K={backgroundColor:P()};return L?o?r.a.createElement("div",{id:"helper"},r.a.createElement("div",{id:"playing-view"},r.a.createElement("div",{id:"question-text",style:q},A?"Game ended.":v),r.a.createElement("button",{style:K,onClick:function(){if(A)return b(-1),B("Play Again?"),y(!1),g(!1),null;var e=function(e){for(var t=e,n=Object(H.a)(M);t.includes("##");){if(0===n.length){window.alert("Your game don't have enough players for this question, some player spots were not populated");break}var a=Math.floor(Math.random()*n.length);t=t.replace("##",n[a]),n.splice(a,1)}return t};w!==Q.length-1||N?N?(B(e(Q[w].followUpQuestion)),y(!1)):(B(e(Q[w+1].question)),""!==Q[w+1].followUpQuestion&&y(!0),b(w+1)):g(!0)}},-1===w?"Start":"Next"))):r.a.createElement("div",{id:"game-init-page"},r.a.createElement("h1",null,L.name),r.a.createElement("button",{id:"info-button"},r.a.createElement(d.b,{to:"/games/".concat(L.id)},"Info")),r.a.createElement("button",{id:"start-button",disabled:M.length<2,onClick:function(){return u(!0)}},"Start"),M.length<2?r.a.createElement("div",null," Min two players needed to start"):null,r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,M.map((function(e){return r.a.createElement("tr",{key:e},r.a.createElement("td",null,e),r.a.createElement("td",null,r.a.createElement("img",{onClick:function(){return x(M.filter((function(t){return t!==e})))},src:n(68),width:"20",height:"20",alt:"delete"})))})))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target.player.value;t&&x(M.concat(t)),e.target.player.value=""}},r.a.createElement("h3",null,"Add Players"),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"name",name:"player"})),r.a.createElement("button",{id:"player-add-button"},"Add")))):null},P=function(){var e=Object(l.c)((function(e){return e.notification})),t=e.text,n=e.time,a=Object(l.b)();if(""===t)return null;var o=window.setTimeout((function(){return null}),0)-2;return window.clearTimeout(o),setTimeout((function(){a({type:"HIDE_MESSAGE"})}),n),r.a.createElement("div",{id:"notification"},t)},q={getUserData:function(){var e=Object(v.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"bearer ".concat(t)}},e.abrupt("return",O.a.get("/api/users",n).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=function(){var e=Object(l.b)();return Object(a.useEffect)((function(){var t=window.localStorage.getItem("loggedUser");if(t){var n=JSON.parse(t);q.getUserData(n).then((function(t){return e(f(Object(A.a)(Object(A.a)({},t),{},{token:n})))}))}}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement(P,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/"},r.a.createElement(k,null)),r.a.createElement(m.b,{exact:!0,path:"/games"},r.a.createElement(G,null)),r.a.createElement(m.b,{path:"/games/:id"},r.a.createElement(L,null)),r.a.createElement(m.b,{path:"/playing/:id"},r.a.createElement(F,null)),r.a.createElement(m.b,{exact:!0,path:"/login"},r.a.createElement(N,null)),r.a.createElement(m.b,{exact:!0,path:"/signup"},r.a.createElement(j,null))))},T=function(){return r.a.createElement(d.a,null,r.a.createElement(K,null))},X=Object(c.combineReducers)({user:w,game:g,notification:U}),J=Object(c.createStore)(X,Object(i.composeWithDevTools)());u.a.render(r.a.createElement(l.a,{store:J},r.a.createElement(T,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.28765ab0.chunk.js.map